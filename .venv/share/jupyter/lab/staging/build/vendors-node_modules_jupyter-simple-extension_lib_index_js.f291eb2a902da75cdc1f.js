"use strict";
(self["webpackChunk_jupyterlab_application_top"] = self["webpackChunk_jupyterlab_application_top"] || []).push([["vendors-node_modules_jupyter-simple-extension_lib_index_js"],{

/***/ "./node_modules/jupyter-simple-extension/lib/index.js":
/*!************************************************************!*\
  !*** ./node_modules/jupyter-simple-extension/lib/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _jupyterlab_launcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/launcher */ "webpack/sharing/consume/default/@jupyterlab/launcher/@jupyterlab/launcher");
/* harmony import */ var _jupyterlab_launcher__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_launcher__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/ui-components */ "webpack/sharing/consume/default/@jupyterlab/ui-components/@jupyterlab/ui-components");
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/widgets */ "webpack/sharing/consume/default/@lumino/widgets/@lumino/widgets");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @jupyterlab/notebook */ "webpack/sharing/consume/default/@jupyterlab/notebook/@jupyterlab/notebook");
/* harmony import */ var _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! marked */ "webpack/sharing/consume/default/marked/marked");
/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(marked__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! dompurify */ "webpack/sharing/consume/default/dompurify/dompurify");
/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _jupyterlab_docmanager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @jupyterlab/docmanager */ "webpack/sharing/consume/default/@jupyterlab/docmanager/@jupyterlab/docmanager");
/* harmony import */ var _jupyterlab_docmanager__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_docmanager__WEBPACK_IMPORTED_MODULE_7__);








// import { IDisposable } from '@lumino/disposable';
// Example icon string (base64-encoded SVG)
const iconSvgStr = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-left-text" viewBox="0 0 16 16">' +
    '<path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>' +
    '<path d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>' +
    '</svg>';
// Create a custom icon
const extensionIcon = new _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_1__.LabIcon({
    name: 'simple:icon',
    svgstr: iconSvgStr
});
// Create a widget for the sidebar
class SimpleSidebarWidget extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__.Widget {
    constructor(docManager) {
        console.log('[SimpleSidebarWidget] Constructor start'); // Log 1
        super();
        this.isMarkdownMode = false;
        this.isInputExpanded = false;
        this.docManager = docManager;
        this.id = 'simple-sidebar';
        this.title.label = '';
        this.title.caption = 'AI Chat Interface';
        this.title.icon = extensionIcon;
        this.title.closable = true;
        // Create the main container
        const content = document.createElement('div');
        content.className = 'simple-sidebar-content';
        content.style.display = 'flex';
        content.style.flexDirection = 'column';
        content.style.height = '100%';
        // Create message container
        this.messageContainer = document.createElement('div');
        this.messageContainer.className = 'message-container';
        this.messageContainer.style.flexGrow = '1';
        this.messageContainer.style.overflowY = 'auto';
        this.messageContainer.style.padding = '10px';
        this.messageContainer.style.borderBottom = '1px solid #e0e0e0';
        // Create input container (will hold controls, input field, and send button)
        this.inputContainer = document.createElement('div');
        this.inputContainer.style.display = 'flex';
        this.inputContainer.style.flexDirection = 'column';
        this.inputContainer.style.padding = '10px';
        this.inputContainer.style.gap = '5px';
        // Create controls container (for toggle and action buttons on one line)
        const controlsContainer = document.createElement('div');
        controlsContainer.style.display = 'flex';
        controlsContainer.style.justifyContent = 'space-between';
        controlsContainer.style.alignItems = 'center';
        controlsContainer.style.marginBottom = '5px';
        // Create markdown toggle container (left side of controls)
        const toggleContainer = document.createElement('div');
        toggleContainer.style.display = 'flex';
        toggleContainer.style.alignItems = 'center';
        // Create markdown toggle
        const markdownToggle = document.createElement('input');
        markdownToggle.type = 'checkbox';
        markdownToggle.id = 'markdown-toggle';
        markdownToggle.style.marginRight = '5px';
        // Create toggle label
        const toggleLabel = document.createElement('label');
        toggleLabel.htmlFor = 'markdown-toggle';
        toggleLabel.textContent = 'Markdown mode';
        toggleLabel.style.fontSize = '12px';
        // Add toggle event
        markdownToggle.addEventListener('change', (e) => {
            const target = e.target;
            this.isMarkdownMode = target.checked;
            this.inputField.placeholder = this.isMarkdownMode ?
                'Write markdown here...\\n\\n# Example heading\\n- List item\\n\\n```code block```' :
                'Ask me anything...';
        });
        // Add toggle elements to container
        toggleContainer.appendChild(markdownToggle);
        toggleContainer.appendChild(toggleLabel);
        // Create action buttons container (right side of controls)
        console.log('[SimpleSidebarWidget] Creating action buttons container'); // Log 2
        const actionButtonsContainer = document.createElement('div');
        actionButtonsContainer.style.display = 'flex';
        actionButtonsContainer.style.gap = '2px';
        // Create command button
        const commandButton = this.createButton('@', 'Command list');
        commandButton.addEventListener('click', () => {
            // Command list logic will be implemented later
        });
        // Create attachment button
        const attachmentButton = this.createButton('📎', 'Upload file');
        attachmentButton.addEventListener('click', () => {
            // File upload logic will be implemented later
        });
        // Create file search button
        const fileSearchButton = this.createButton('🔍', 'Browse files');
        fileSearchButton.addEventListener('click', () => {
            // File browse logic will be implemented later
        });
        // Create expand input button
        const expandButton = this.createButton('⤢', 'Expand input');
        expandButton.addEventListener('click', () => {
            this.isInputExpanded = !this.isInputExpanded;
            if (this.isInputExpanded) {
                this.inputField.style.height = '100px';
                this.inputField.style.resize = 'vertical';
                expandButton.textContent = '⤡';
                expandButton.title = 'Collapse input';
            }
            else {
                this.inputField.style.height = 'auto';
                this.inputField.style.resize = 'none';
                expandButton.textContent = '⤢';
                expandButton.title = 'Expand input';
            }
        });
        // Create settings button
        const settingsButton = this.createButton('⚙️', 'Settings');
        settingsButton.addEventListener('click', () => {
            // Settings logic will be implemented later
        });
        // Create List Contents button
        const listDirButton = this.createButton('📁', 'List Directory Contents');
        listDirButton.addEventListener('click', () => this.listCurrentDirectoryContents());
        // Add buttons to container
        actionButtonsContainer.appendChild(commandButton);
        actionButtonsContainer.appendChild(attachmentButton);
        actionButtonsContainer.appendChild(fileSearchButton);
        actionButtonsContainer.appendChild(expandButton);
        actionButtonsContainer.appendChild(settingsButton);
        actionButtonsContainer.appendChild(listDirButton);
        // Add toggle and action buttons to the controls container
        controlsContainer.appendChild(toggleContainer);
        controlsContainer.appendChild(actionButtonsContainer);
        // Create input field (changed to textarea)
        this.inputField = document.createElement('textarea');
        this.inputField.placeholder = 'Ask me anything...';
        this.inputField.style.flexGrow = '1';
        this.inputField.style.padding = '5px';
        this.inputField.style.border = '1px solid #ccc';
        this.inputField.style.borderRadius = '3px';
        this.inputField.style.resize = 'none';
        this.inputField.rows = 1;
        this.inputField.style.overflowY = 'auto';
        // Create input actions container (for send button)
        const inputActionsContainer = document.createElement('div');
        inputActionsContainer.style.display = 'flex';
        inputActionsContainer.style.justifyContent = 'flex-end';
        inputActionsContainer.style.marginTop = '5px';
        // Create send button
        const sendButton = document.createElement('button');
        sendButton.className = 'jp-Button';
        sendButton.textContent = 'Send';
        sendButton.style.padding = '5px 10px';
        // Add event listeners
        sendButton.addEventListener('click', () => this.handleSendMessage());
        this.inputField.addEventListener('keypress', (event) => {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                this.handleSendMessage();
            }
        });
        // Add button to actions container
        inputActionsContainer.appendChild(sendButton);
        // Assemble the input components
        this.inputContainer.appendChild(controlsContainer);
        console.log('[SimpleSidebarWidget] Controls container appended to input container'); // Log 6
        this.inputContainer.appendChild(this.inputField);
        this.inputContainer.appendChild(inputActionsContainer);
        // Assemble all components
        content.appendChild(this.messageContainer);
        content.appendChild(this.inputContainer);
        this.node.appendChild(content);
        console.log('[SimpleSidebarWidget] Constructor end'); // Log 7
    }
    createButton(text, tooltip) {
        const button = document.createElement('button');
        button.textContent = text;
        button.title = tooltip;
        button.className = 'jp-Button';
        button.style.margin = '0 2px';
        button.style.padding = '2px 8px';
        return button;
    }
    handleSendMessage() {
        const message = this.inputField.value.trim();
        if (message) {
            // Add metadata about markdown mode to the message
            this.addMessage(message, 'user', this.isMarkdownMode);
            this.inputField.value = '';
            // Reset expanded state if needed after sending
            if (this.isInputExpanded) {
                this.inputField.style.height = '100px';
            }
            else {
                this.inputField.style.height = 'auto';
                this.inputField.rows = 1;
            }
            // Echo response for demonstration
            setTimeout(() => {
                this.addMessage(`Echo: ${message}`, 'bot', false);
            }, 500);
        }
    }
    addMessage(text, sender, isMarkdown = false) {
        const messageDiv = document.createElement('div');
        messageDiv.style.marginBottom = '10px';
        messageDiv.style.padding = '8px';
        messageDiv.style.borderRadius = '5px';
        messageDiv.style.maxWidth = '80%';
        messageDiv.style.wordWrap = 'break-word';
        if (sender === 'user') {
            messageDiv.style.backgroundColor = '#e3f2fd';
            messageDiv.style.marginLeft = 'auto';
        }
        else {
            messageDiv.style.backgroundColor = '#f5f5f5';
            messageDiv.style.marginRight = 'auto';
        }
        // Add message content
        if (isMarkdown) {
            const markdownIndicator = document.createElement('div');
            markdownIndicator.textContent = "MD";
            markdownIndicator.style.fontSize = '9px';
            markdownIndicator.style.color = '#666';
            markdownIndicator.style.textAlign = 'right';
            messageDiv.appendChild(markdownIndicator);
            // Create a container for the rendered markdown
            const contentDiv = document.createElement('div');
            contentDiv.className = 'markdown-content';
            // Convert markdown to HTML and sanitize it
            try {
                // Parse markdown to HTML
                const rawHtml = marked__WEBPACK_IMPORTED_MODULE_5__.marked.parse(text);
                // Sanitize the HTML to prevent XSS attacks
                const sanitizedHtml = dompurify__WEBPACK_IMPORTED_MODULE_6___default().sanitize(rawHtml);
                // Set the sanitized HTML
                contentDiv.innerHTML = sanitizedHtml;
            }
            catch (error) {
                // Fallback if markdown parsing fails
                contentDiv.textContent = text;
                console.error('Failed to render markdown:', error);
            }
            messageDiv.appendChild(contentDiv);
        }
        else {
            messageDiv.textContent = text;
        }
        this.messageContainer.appendChild(messageDiv);
        this.messageContainer.scrollTop = this.messageContainer.scrollHeight;
    }
    async listCurrentDirectoryContents() {
        let dirPath = null;
        let source = null;
        // 1. Determine the directory path
        const currentShellWidget = app.shell.currentWidget;
        if (currentShellWidget) {
            const widgetContext = this.docManager.contextForWidget(currentShellWidget);
            if (widgetContext) {
                const path = widgetContext.path;
                const lastSlash = path.lastIndexOf('/');
                dirPath = lastSlash === -1 ? '' : path.substring(0, lastSlash); // Use '' for root
                source = 'widget context';
            }
        }
        // Fallback to notebook tracker if no context from widget
        if (dirPath === null) {
            const currentNotebookPanel = notebookTracker === null || notebookTracker === void 0 ? void 0 : notebookTracker.currentWidget;
            if (currentNotebookPanel instanceof _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_4__.NotebookPanel) {
                const nbPath = currentNotebookPanel.context.path;
                const lastSlash = nbPath.lastIndexOf('/');
                dirPath = lastSlash === -1 ? '' : nbPath.substring(0, lastSlash);
                source = 'active notebook';
            }
        }
        // 2. List contents if path was found
        if (dirPath !== null) {
            console.log(`Listing contents for directory: "${dirPath || '/'}" (from ${source})`);
            try {
                const contents = await this.docManager.services.contents.get(dirPath);
                console.log('Directory Contents:');
                if (contents.content && contents.content.length > 0) {
                    contents.content.forEach((item) => {
                        console.log(`- ${item.name} (${item.type})`);
                    });
                }
                else {
                    console.log('(Directory is empty)');
                }
            }
            catch (error) {
                console.error(`Error listing directory contents for "${dirPath}":`, error);
            }
        }
        else {
            console.log('Could not determine current directory context to list.');
        }
    }
}
// --- Need app and notebookTracker accessible globally or passed differently ---
// This is a simplification for now. Proper architecture might involve signals/services.
let app;
let notebookTracker;
/**
 * Initialization data for the jupyter-simple-extension extension.
 */
const plugin = {
    id: 'jupyter-simple-extension:plugin',
    autoStart: true,
    requires: [_jupyterlab_launcher__WEBPACK_IMPORTED_MODULE_0__.ILauncher, _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_3__.ICommandPalette, _jupyterlab_notebook__WEBPACK_IMPORTED_MODULE_4__.INotebookTracker, _jupyterlab_docmanager__WEBPACK_IMPORTED_MODULE_7__.IDocumentManager],
    activate: (_app, // Rename to avoid shadowing global 'app'
    launcher, palette, _notebookTracker, // Rename to avoid shadowing global
    docManager // Inject IDocumentManager
    ) => {
        console.log('JupyterLab extension jupyter-simple-extension is activated!');
        // Assign to module-level variables (simplification)
        app = _app;
        notebookTracker = _notebookTracker;
        // Pass docManager to the widget constructor
        const sidebarWidget = new SimpleSidebarWidget(docManager);
        // Add the sidebar widget to the left area on startup
        app.shell.add(sidebarWidget, 'left', { rank: 9999 });
        // Add a command to toggle the sidebar
        app.commands.addCommand('simple-extension:toggle-sidebar', {
            label: 'Toggle Simple Sidebar',
            icon: extensionIcon,
            execute: () => {
                if (sidebarWidget.isAttached) {
                    sidebarWidget.parent = null;
                }
                else {
                    app.shell.add(sidebarWidget, 'left', { rank: 9999 });
                }
            }
        });
        // Add the command to the command palette
        palette.addItem({
            command: 'simple-extension:toggle-sidebar',
            category: 'Extension'
        });
        // Add a launcher item
        launcher.add({
            command: 'simple-extension:toggle-sidebar',
            category: 'Other',
            rank: 9999
        });
        // --- Variable to hold the disposable listener for cursor activity ---
        // let cursorListener: IDisposable | null = null; // Remove for now
        // --- Variable to hold the disposable listener for model changes ---
        // let modelChangedListener: IDisposable | null = null; // Remove for now
        // --- Function to log cursor context ---
        const logCursorContext = (editor) => {
            // Keep the 'any' cast for now until types are certain
            try {
                const position = editor.getCursorPosition();
                const offset = editor.getOffsetAt(position);
                const fullText = editor.model.value.get();
                const contextRadius = 100;
                const start = Math.max(0, offset - contextRadius);
                const end = Math.min(fullText.length, offset + contextRadius);
                const contextBefore = fullText.substring(start, offset);
                const contextAfter = fullText.substring(offset, end);
                console.log('--- Cursor Context ---');
                console.log('Position:', position);
                console.log('Offset:', offset);
                console.log('Before:', contextBefore);
                console.log('After:', contextAfter);
                console.log('--------------------');
            }
            catch (error) {
                console.error("Error in logCursorContext:", error);
                console.log("Editor object during error:", editor); // Log editor on error
            }
        };
        // --- Minimal listener for active cell changes (for logging) ---
        notebookTracker.activeCellChanged.connect((tracker, cell) => {
            if (cell) {
                console.log(`Active cell changed to: Cell Type = ${cell.model.type}, Editor = ${cell.editor ? 'Exists' : 'None'}`);
            }
            else {
                console.log("Active cell changed to: None");
            }
            // We no longer try to attach listeners here
        });
        // Wait for the application to be started before connecting selectionChanged
        app.started.then(() => {
            console.log("App started, connecting notebookTracker.currentChanged listener.");
            // --- Listener for current notebook changes (for inspection) ---
            notebookTracker.currentChanged.connect((tracker, panel) => {
                console.log("Notebook current widget changed.");
                // --- Clean up previous listeners (placeholder if we add back listeners) ---
                // --- End Cleanup ---
                if (panel && panel.content) {
                    // Get the currently active cell from the current panel
                    const cell = panel.content.activeCell;
                    if (cell && cell.editor) {
                        const editor = cell.editor;
                        console.log("Current notebook changed, active cell has editor. Logging editor object:");
                        console.log(editor); // Log the editor object
                        // --- Attempt direct inspection/interaction (Hypothetical) ---
                        try {
                            // Is there an inner 'editor'?
                            if (editor.editor) {
                                console.log("Found inner editor property:", editor.editor);
                                // Try attaching directly if it looks like CodeMirror
                                if (typeof editor.editor.on === 'function') {
                                    console.log("Inner editor has .on method (likely CodeMirror). Trying to attach 'cursorActivity'.");
                                    // Note: We might need to properly manage the detachment of this listener later
                                    editor.editor.on('cursorActivity', (cmInstance) => {
                                        console.log("Underlying editor cursorActivity triggered.");
                                        // For now, just log that it triggered
                                    });
                                }
                                else {
                                    console.log("Inner editor does not have .on method.");
                                }
                            }
                            else {
                                console.log("No inner 'editor' property found.");
                            }
                            // Can we call logCursorContext immediately? Does it work here?
                            console.log("Attempting immediate context log in currentChanged:");
                            logCursorContext(editor);
                        }
                        catch (e) {
                            console.error("Error during editor inspection/interaction:", e);
                        }
                        // --- End Inspection ---
                    }
                    else if (cell) {
                        console.log("Current notebook changed, active cell found but no editor.");
                    }
                    else {
                        console.log("Current notebook changed, but no active cell found in the panel.");
                    }
                }
                else {
                    console.log("Current notebook changed to null or panel has no content.");
                }
            });
            // --- End listener setup ---
        });
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (plugin);


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfanVweXRlci1zaW1wbGUtZXh0ZW5zaW9uX2xpYl9pbmRleF9qcy5mMjkxZWIyYTkwMmRhNzVjZGMxZi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpRDtBQUNHO0FBQ1g7QUFDYztBQUNnQjtBQUN2QztBQUNFO0FBQ3dCO0FBQzFELFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsOERBQU87QUFDakM7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLGtDQUFrQyxtREFBTTtBQUN4QztBQUNBLGdFQUFnRTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRjtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxpRUFBZSxNQUFNLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AanVweXRlcmxhYi9hcHBsaWNhdGlvbi10b3AvLi9ub2RlX21vZHVsZXMvanVweXRlci1zaW1wbGUtZXh0ZW5zaW9uL2xpYi9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJTGF1bmNoZXIgfSBmcm9tICdAanVweXRlcmxhYi9sYXVuY2hlcic7XG5pbXBvcnQgeyBMYWJJY29uIH0gZnJvbSAnQGp1cHl0ZXJsYWIvdWktY29tcG9uZW50cyc7XG5pbXBvcnQgeyBXaWRnZXQgfSBmcm9tICdAbHVtaW5vL3dpZGdldHMnO1xuaW1wb3J0IHsgSUNvbW1hbmRQYWxldHRlIH0gZnJvbSAnQGp1cHl0ZXJsYWIvYXBwdXRpbHMnO1xuaW1wb3J0IHsgSU5vdGVib29rVHJhY2tlciwgTm90ZWJvb2tQYW5lbCB9IGZyb20gJ0BqdXB5dGVybGFiL25vdGVib29rJztcbmltcG9ydCB7IG1hcmtlZCB9IGZyb20gJ21hcmtlZCc7XG5pbXBvcnQgRE9NUHVyaWZ5IGZyb20gJ2RvbXB1cmlmeSc7XG5pbXBvcnQgeyBJRG9jdW1lbnRNYW5hZ2VyIH0gZnJvbSAnQGp1cHl0ZXJsYWIvZG9jbWFuYWdlcic7XG4vLyBpbXBvcnQgeyBJRGlzcG9zYWJsZSB9IGZyb20gJ0BsdW1pbm8vZGlzcG9zYWJsZSc7XG4vLyBFeGFtcGxlIGljb24gc3RyaW5nIChiYXNlNjQtZW5jb2RlZCBTVkcpXG5jb25zdCBpY29uU3ZnU3RyID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBjbGFzcz1cImJpIGJpLWNoYXQtbGVmdC10ZXh0XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPicgK1xuICAgICc8cGF0aCBkPVwiTTE0IDFhMSAxIDAgMCAxIDEgMXY4YTEgMSAwIDAgMS0xIDFINC40MTRBMiAyIDAgMCAwIDMgMTEuNTg2bC0yIDJWMmExIDEgMCAwIDEgMS0xaDEyek0yIDBhMiAyIDAgMCAwLTIgMnYxMi43OTNhLjUuNSAwIDAgMCAuODU0LjM1M2wyLjg1My0yLjg1M0ExIDEgMCAwIDEgNC40MTQgMTJIMTRhMiAyIDAgMCAwIDItMlYyYTIgMiAwIDAgMC0yLTJIMnpcIi8+JyArXG4gICAgJzxwYXRoIGQ9XCJNMyAzLjVhLjUuNSAwIDAgMSAuNS0uNWg5YS41LjUgMCAwIDEgMCAxaC05YS41LjUgMCAwIDEtLjUtLjV6TTMgNmEuNS41IDAgMCAxIC41LS41aDlhLjUuNSAwIDAgMSAwIDFoLTlBLjUuNSAwIDAgMSAzIDZ6bTAgMi41YS41LjUgMCAwIDEgLjUtLjVoNWEuNS41IDAgMCAxIDAgMWgtNWEuNS41IDAgMCAxLS41LS41elwiLz4nICtcbiAgICAnPC9zdmc+Jztcbi8vIENyZWF0ZSBhIGN1c3RvbSBpY29uXG5jb25zdCBleHRlbnNpb25JY29uID0gbmV3IExhYkljb24oe1xuICAgIG5hbWU6ICdzaW1wbGU6aWNvbicsXG4gICAgc3Znc3RyOiBpY29uU3ZnU3RyXG59KTtcbi8vIENyZWF0ZSBhIHdpZGdldCBmb3IgdGhlIHNpZGViYXJcbmNsYXNzIFNpbXBsZVNpZGViYXJXaWRnZXQgZXh0ZW5kcyBXaWRnZXQge1xuICAgIGNvbnN0cnVjdG9yKGRvY01hbmFnZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tTaW1wbGVTaWRlYmFyV2lkZ2V0XSBDb25zdHJ1Y3RvciBzdGFydCcpOyAvLyBMb2cgMVxuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlzTWFya2Rvd25Nb2RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNJbnB1dEV4cGFuZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZG9jTWFuYWdlciA9IGRvY01hbmFnZXI7XG4gICAgICAgIHRoaXMuaWQgPSAnc2ltcGxlLXNpZGViYXInO1xuICAgICAgICB0aGlzLnRpdGxlLmxhYmVsID0gJyc7XG4gICAgICAgIHRoaXMudGl0bGUuY2FwdGlvbiA9ICdBSSBDaGF0IEludGVyZmFjZSc7XG4gICAgICAgIHRoaXMudGl0bGUuaWNvbiA9IGV4dGVuc2lvbkljb247XG4gICAgICAgIHRoaXMudGl0bGUuY2xvc2FibGUgPSB0cnVlO1xuICAgICAgICAvLyBDcmVhdGUgdGhlIG1haW4gY29udGFpbmVyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29udGVudC5jbGFzc05hbWUgPSAnc2ltcGxlLXNpZGViYXItY29udGVudCc7XG4gICAgICAgIGNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgY29udGVudC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG4gICAgICAgIGNvbnRlbnQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICAvLyBDcmVhdGUgbWVzc2FnZSBjb250YWluZXJcbiAgICAgICAgdGhpcy5tZXNzYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMubWVzc2FnZUNvbnRhaW5lci5jbGFzc05hbWUgPSAnbWVzc2FnZS1jb250YWluZXInO1xuICAgICAgICB0aGlzLm1lc3NhZ2VDb250YWluZXIuc3R5bGUuZmxleEdyb3cgPSAnMSc7XG4gICAgICAgIHRoaXMubWVzc2FnZUNvbnRhaW5lci5zdHlsZS5vdmVyZmxvd1kgPSAnYXV0byc7XG4gICAgICAgIHRoaXMubWVzc2FnZUNvbnRhaW5lci5zdHlsZS5wYWRkaW5nID0gJzEwcHgnO1xuICAgICAgICB0aGlzLm1lc3NhZ2VDb250YWluZXIuc3R5bGUuYm9yZGVyQm90dG9tID0gJzFweCBzb2xpZCAjZTBlMGUwJztcbiAgICAgICAgLy8gQ3JlYXRlIGlucHV0IGNvbnRhaW5lciAod2lsbCBob2xkIGNvbnRyb2xzLCBpbnB1dCBmaWVsZCwgYW5kIHNlbmQgYnV0dG9uKVxuICAgICAgICB0aGlzLmlucHV0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuaW5wdXRDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgdGhpcy5pbnB1dENvbnRhaW5lci5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbic7XG4gICAgICAgIHRoaXMuaW5wdXRDb250YWluZXIuc3R5bGUucGFkZGluZyA9ICcxMHB4JztcbiAgICAgICAgdGhpcy5pbnB1dENvbnRhaW5lci5zdHlsZS5nYXAgPSAnNXB4JztcbiAgICAgICAgLy8gQ3JlYXRlIGNvbnRyb2xzIGNvbnRhaW5lciAoZm9yIHRvZ2dsZSBhbmQgYWN0aW9uIGJ1dHRvbnMgb24gb25lIGxpbmUpXG4gICAgICAgIGNvbnN0IGNvbnRyb2xzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnRyb2xzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIGNvbnRyb2xzQ29udGFpbmVyLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ3NwYWNlLWJldHdlZW4nO1xuICAgICAgICBjb250cm9sc0NvbnRhaW5lci5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7XG4gICAgICAgIGNvbnRyb2xzQ29udGFpbmVyLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICc1cHgnO1xuICAgICAgICAvLyBDcmVhdGUgbWFya2Rvd24gdG9nZ2xlIGNvbnRhaW5lciAobGVmdCBzaWRlIG9mIGNvbnRyb2xzKVxuICAgICAgICBjb25zdCB0b2dnbGVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdG9nZ2xlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIHRvZ2dsZUNvbnRhaW5lci5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7XG4gICAgICAgIC8vIENyZWF0ZSBtYXJrZG93biB0b2dnbGVcbiAgICAgICAgY29uc3QgbWFya2Rvd25Ub2dnbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBtYXJrZG93blRvZ2dsZS50eXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgbWFya2Rvd25Ub2dnbGUuaWQgPSAnbWFya2Rvd24tdG9nZ2xlJztcbiAgICAgICAgbWFya2Rvd25Ub2dnbGUuc3R5bGUubWFyZ2luUmlnaHQgPSAnNXB4JztcbiAgICAgICAgLy8gQ3JlYXRlIHRvZ2dsZSBsYWJlbFxuICAgICAgICBjb25zdCB0b2dnbGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIHRvZ2dsZUxhYmVsLmh0bWxGb3IgPSAnbWFya2Rvd24tdG9nZ2xlJztcbiAgICAgICAgdG9nZ2xlTGFiZWwudGV4dENvbnRlbnQgPSAnTWFya2Rvd24gbW9kZSc7XG4gICAgICAgIHRvZ2dsZUxhYmVsLnN0eWxlLmZvbnRTaXplID0gJzEycHgnO1xuICAgICAgICAvLyBBZGQgdG9nZ2xlIGV2ZW50XG4gICAgICAgIG1hcmtkb3duVG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuaXNNYXJrZG93bk1vZGUgPSB0YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRGaWVsZC5wbGFjZWhvbGRlciA9IHRoaXMuaXNNYXJrZG93bk1vZGUgP1xuICAgICAgICAgICAgICAgICdXcml0ZSBtYXJrZG93biBoZXJlLi4uXFxcXG5cXFxcbiMgRXhhbXBsZSBoZWFkaW5nXFxcXG4tIExpc3QgaXRlbVxcXFxuXFxcXG5gYGBjb2RlIGJsb2NrYGBgJyA6XG4gICAgICAgICAgICAgICAgJ0FzayBtZSBhbnl0aGluZy4uLic7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBBZGQgdG9nZ2xlIGVsZW1lbnRzIHRvIGNvbnRhaW5lclxuICAgICAgICB0b2dnbGVDb250YWluZXIuYXBwZW5kQ2hpbGQobWFya2Rvd25Ub2dnbGUpO1xuICAgICAgICB0b2dnbGVDb250YWluZXIuYXBwZW5kQ2hpbGQodG9nZ2xlTGFiZWwpO1xuICAgICAgICAvLyBDcmVhdGUgYWN0aW9uIGJ1dHRvbnMgY29udGFpbmVyIChyaWdodCBzaWRlIG9mIGNvbnRyb2xzKVxuICAgICAgICBjb25zb2xlLmxvZygnW1NpbXBsZVNpZGViYXJXaWRnZXRdIENyZWF0aW5nIGFjdGlvbiBidXR0b25zIGNvbnRhaW5lcicpOyAvLyBMb2cgMlxuICAgICAgICBjb25zdCBhY3Rpb25CdXR0b25zQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGFjdGlvbkJ1dHRvbnNDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgYWN0aW9uQnV0dG9uc0NvbnRhaW5lci5zdHlsZS5nYXAgPSAnMnB4JztcbiAgICAgICAgLy8gQ3JlYXRlIGNvbW1hbmQgYnV0dG9uXG4gICAgICAgIGNvbnN0IGNvbW1hbmRCdXR0b24gPSB0aGlzLmNyZWF0ZUJ1dHRvbignQCcsICdDb21tYW5kIGxpc3QnKTtcbiAgICAgICAgY29tbWFuZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIC8vIENvbW1hbmQgbGlzdCBsb2dpYyB3aWxsIGJlIGltcGxlbWVudGVkIGxhdGVyXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDcmVhdGUgYXR0YWNobWVudCBidXR0b25cbiAgICAgICAgY29uc3QgYXR0YWNobWVudEJ1dHRvbiA9IHRoaXMuY3JlYXRlQnV0dG9uKCfwn5OOJywgJ1VwbG9hZCBmaWxlJyk7XG4gICAgICAgIGF0dGFjaG1lbnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBGaWxlIHVwbG9hZCBsb2dpYyB3aWxsIGJlIGltcGxlbWVudGVkIGxhdGVyXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDcmVhdGUgZmlsZSBzZWFyY2ggYnV0dG9uXG4gICAgICAgIGNvbnN0IGZpbGVTZWFyY2hCdXR0b24gPSB0aGlzLmNyZWF0ZUJ1dHRvbign8J+UjScsICdCcm93c2UgZmlsZXMnKTtcbiAgICAgICAgZmlsZVNlYXJjaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIC8vIEZpbGUgYnJvd3NlIGxvZ2ljIHdpbGwgYmUgaW1wbGVtZW50ZWQgbGF0ZXJcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENyZWF0ZSBleHBhbmQgaW5wdXQgYnV0dG9uXG4gICAgICAgIGNvbnN0IGV4cGFuZEJ1dHRvbiA9IHRoaXMuY3JlYXRlQnV0dG9uKCfipKInLCAnRXhwYW5kIGlucHV0Jyk7XG4gICAgICAgIGV4cGFuZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNJbnB1dEV4cGFuZGVkID0gIXRoaXMuaXNJbnB1dEV4cGFuZGVkO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbnB1dEV4cGFuZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dEZpZWxkLnN0eWxlLmhlaWdodCA9ICcxMDBweCc7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dEZpZWxkLnN0eWxlLnJlc2l6ZSA9ICd2ZXJ0aWNhbCc7XG4gICAgICAgICAgICAgICAgZXhwYW5kQnV0dG9uLnRleHRDb250ZW50ID0gJ+KkoSc7XG4gICAgICAgICAgICAgICAgZXhwYW5kQnV0dG9uLnRpdGxlID0gJ0NvbGxhcHNlIGlucHV0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRGaWVsZC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dEZpZWxkLnN0eWxlLnJlc2l6ZSA9ICdub25lJztcbiAgICAgICAgICAgICAgICBleHBhbmRCdXR0b24udGV4dENvbnRlbnQgPSAn4qSiJztcbiAgICAgICAgICAgICAgICBleHBhbmRCdXR0b24udGl0bGUgPSAnRXhwYW5kIGlucHV0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENyZWF0ZSBzZXR0aW5ncyBidXR0b25cbiAgICAgICAgY29uc3Qgc2V0dGluZ3NCdXR0b24gPSB0aGlzLmNyZWF0ZUJ1dHRvbign4pqZ77iPJywgJ1NldHRpbmdzJyk7XG4gICAgICAgIHNldHRpbmdzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgLy8gU2V0dGluZ3MgbG9naWMgd2lsbCBiZSBpbXBsZW1lbnRlZCBsYXRlclxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ3JlYXRlIExpc3QgQ29udGVudHMgYnV0dG9uXG4gICAgICAgIGNvbnN0IGxpc3REaXJCdXR0b24gPSB0aGlzLmNyZWF0ZUJ1dHRvbign8J+TgScsICdMaXN0IERpcmVjdG9yeSBDb250ZW50cycpO1xuICAgICAgICBsaXN0RGlyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5saXN0Q3VycmVudERpcmVjdG9yeUNvbnRlbnRzKCkpO1xuICAgICAgICAvLyBBZGQgYnV0dG9ucyB0byBjb250YWluZXJcbiAgICAgICAgYWN0aW9uQnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjb21tYW5kQnV0dG9uKTtcbiAgICAgICAgYWN0aW9uQnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChhdHRhY2htZW50QnV0dG9uKTtcbiAgICAgICAgYWN0aW9uQnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChmaWxlU2VhcmNoQnV0dG9uKTtcbiAgICAgICAgYWN0aW9uQnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChleHBhbmRCdXR0b24pO1xuICAgICAgICBhY3Rpb25CdXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKHNldHRpbmdzQnV0dG9uKTtcbiAgICAgICAgYWN0aW9uQnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0RGlyQnV0dG9uKTtcbiAgICAgICAgLy8gQWRkIHRvZ2dsZSBhbmQgYWN0aW9uIGJ1dHRvbnMgdG8gdGhlIGNvbnRyb2xzIGNvbnRhaW5lclxuICAgICAgICBjb250cm9sc0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0b2dnbGVDb250YWluZXIpO1xuICAgICAgICBjb250cm9sc0NvbnRhaW5lci5hcHBlbmRDaGlsZChhY3Rpb25CdXR0b25zQ29udGFpbmVyKTtcbiAgICAgICAgLy8gQ3JlYXRlIGlucHV0IGZpZWxkIChjaGFuZ2VkIHRvIHRleHRhcmVhKVxuICAgICAgICB0aGlzLmlucHV0RmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgICAgICB0aGlzLmlucHV0RmllbGQucGxhY2Vob2xkZXIgPSAnQXNrIG1lIGFueXRoaW5nLi4uJztcbiAgICAgICAgdGhpcy5pbnB1dEZpZWxkLnN0eWxlLmZsZXhHcm93ID0gJzEnO1xuICAgICAgICB0aGlzLmlucHV0RmllbGQuc3R5bGUucGFkZGluZyA9ICc1cHgnO1xuICAgICAgICB0aGlzLmlucHV0RmllbGQuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjY2NjJztcbiAgICAgICAgdGhpcy5pbnB1dEZpZWxkLnN0eWxlLmJvcmRlclJhZGl1cyA9ICczcHgnO1xuICAgICAgICB0aGlzLmlucHV0RmllbGQuc3R5bGUucmVzaXplID0gJ25vbmUnO1xuICAgICAgICB0aGlzLmlucHV0RmllbGQucm93cyA9IDE7XG4gICAgICAgIHRoaXMuaW5wdXRGaWVsZC5zdHlsZS5vdmVyZmxvd1kgPSAnYXV0byc7XG4gICAgICAgIC8vIENyZWF0ZSBpbnB1dCBhY3Rpb25zIGNvbnRhaW5lciAoZm9yIHNlbmQgYnV0dG9uKVxuICAgICAgICBjb25zdCBpbnB1dEFjdGlvbnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgaW5wdXRBY3Rpb25zQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIGlucHV0QWN0aW9uc0NvbnRhaW5lci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdmbGV4LWVuZCc7XG4gICAgICAgIGlucHV0QWN0aW9uc0NvbnRhaW5lci5zdHlsZS5tYXJnaW5Ub3AgPSAnNXB4JztcbiAgICAgICAgLy8gQ3JlYXRlIHNlbmQgYnV0dG9uXG4gICAgICAgIGNvbnN0IHNlbmRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgc2VuZEJ1dHRvbi5jbGFzc05hbWUgPSAnanAtQnV0dG9uJztcbiAgICAgICAgc2VuZEJ1dHRvbi50ZXh0Q29udGVudCA9ICdTZW5kJztcbiAgICAgICAgc2VuZEJ1dHRvbi5zdHlsZS5wYWRkaW5nID0gJzVweCAxMHB4JztcbiAgICAgICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICBzZW5kQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5oYW5kbGVTZW5kTWVzc2FnZSgpKTtcbiAgICAgICAgdGhpcy5pbnB1dEZpZWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInICYmICFldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZW5kTWVzc2FnZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQWRkIGJ1dHRvbiB0byBhY3Rpb25zIGNvbnRhaW5lclxuICAgICAgICBpbnB1dEFjdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VuZEJ1dHRvbik7XG4gICAgICAgIC8vIEFzc2VtYmxlIHRoZSBpbnB1dCBjb21wb25lbnRzXG4gICAgICAgIHRoaXMuaW5wdXRDb250YWluZXIuYXBwZW5kQ2hpbGQoY29udHJvbHNDb250YWluZXIpO1xuICAgICAgICBjb25zb2xlLmxvZygnW1NpbXBsZVNpZGViYXJXaWRnZXRdIENvbnRyb2xzIGNvbnRhaW5lciBhcHBlbmRlZCB0byBpbnB1dCBjb250YWluZXInKTsgLy8gTG9nIDZcbiAgICAgICAgdGhpcy5pbnB1dENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmlucHV0RmllbGQpO1xuICAgICAgICB0aGlzLmlucHV0Q29udGFpbmVyLmFwcGVuZENoaWxkKGlucHV0QWN0aW9uc0NvbnRhaW5lcik7XG4gICAgICAgIC8vIEFzc2VtYmxlIGFsbCBjb21wb25lbnRzXG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodGhpcy5tZXNzYWdlQ29udGFpbmVyKTtcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZCh0aGlzLmlucHV0Q29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgICBjb25zb2xlLmxvZygnW1NpbXBsZVNpZGViYXJXaWRnZXRdIENvbnN0cnVjdG9yIGVuZCcpOyAvLyBMb2cgN1xuICAgIH1cbiAgICBjcmVhdGVCdXR0b24odGV4dCwgdG9vbHRpcCkge1xuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICAgICAgYnV0dG9uLnRpdGxlID0gdG9vbHRpcDtcbiAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9ICdqcC1CdXR0b24nO1xuICAgICAgICBidXR0b24uc3R5bGUubWFyZ2luID0gJzAgMnB4JztcbiAgICAgICAgYnV0dG9uLnN0eWxlLnBhZGRpbmcgPSAnMnB4IDhweCc7XG4gICAgICAgIHJldHVybiBidXR0b247XG4gICAgfVxuICAgIGhhbmRsZVNlbmRNZXNzYWdlKCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5pbnB1dEZpZWxkLnZhbHVlLnRyaW0oKTtcbiAgICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIC8vIEFkZCBtZXRhZGF0YSBhYm91dCBtYXJrZG93biBtb2RlIHRvIHRoZSBtZXNzYWdlXG4gICAgICAgICAgICB0aGlzLmFkZE1lc3NhZ2UobWVzc2FnZSwgJ3VzZXInLCB0aGlzLmlzTWFya2Rvd25Nb2RlKTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRGaWVsZC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgLy8gUmVzZXQgZXhwYW5kZWQgc3RhdGUgaWYgbmVlZGVkIGFmdGVyIHNlbmRpbmdcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5wdXRFeHBhbmRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRGaWVsZC5zdHlsZS5oZWlnaHQgPSAnMTAwcHgnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dEZpZWxkLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0RmllbGQucm93cyA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBFY2hvIHJlc3BvbnNlIGZvciBkZW1vbnN0cmF0aW9uXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE1lc3NhZ2UoYEVjaG86ICR7bWVzc2FnZX1gLCAnYm90JywgZmFsc2UpO1xuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRNZXNzYWdlKHRleHQsIHNlbmRlciwgaXNNYXJrZG93biA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbWVzc2FnZURpdi5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMTBweCc7XG4gICAgICAgIG1lc3NhZ2VEaXYuc3R5bGUucGFkZGluZyA9ICc4cHgnO1xuICAgICAgICBtZXNzYWdlRGl2LnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1cHgnO1xuICAgICAgICBtZXNzYWdlRGl2LnN0eWxlLm1heFdpZHRoID0gJzgwJSc7XG4gICAgICAgIG1lc3NhZ2VEaXYuc3R5bGUud29yZFdyYXAgPSAnYnJlYWstd29yZCc7XG4gICAgICAgIGlmIChzZW5kZXIgPT09ICd1c2VyJykge1xuICAgICAgICAgICAgbWVzc2FnZURpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2UzZjJmZCc7XG4gICAgICAgICAgICBtZXNzYWdlRGl2LnN0eWxlLm1hcmdpbkxlZnQgPSAnYXV0byc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtZXNzYWdlRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZjVmNWY1JztcbiAgICAgICAgICAgIG1lc3NhZ2VEaXYuc3R5bGUubWFyZ2luUmlnaHQgPSAnYXV0byc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIG1lc3NhZ2UgY29udGVudFxuICAgICAgICBpZiAoaXNNYXJrZG93bikge1xuICAgICAgICAgICAgY29uc3QgbWFya2Rvd25JbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIG1hcmtkb3duSW5kaWNhdG9yLnRleHRDb250ZW50ID0gXCJNRFwiO1xuICAgICAgICAgICAgbWFya2Rvd25JbmRpY2F0b3Iuc3R5bGUuZm9udFNpemUgPSAnOXB4JztcbiAgICAgICAgICAgIG1hcmtkb3duSW5kaWNhdG9yLnN0eWxlLmNvbG9yID0gJyM2NjYnO1xuICAgICAgICAgICAgbWFya2Rvd25JbmRpY2F0b3Iuc3R5bGUudGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgICAgIG1lc3NhZ2VEaXYuYXBwZW5kQ2hpbGQobWFya2Rvd25JbmRpY2F0b3IpO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgY29udGFpbmVyIGZvciB0aGUgcmVuZGVyZWQgbWFya2Rvd25cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbnRlbnREaXYuY2xhc3NOYW1lID0gJ21hcmtkb3duLWNvbnRlbnQnO1xuICAgICAgICAgICAgLy8gQ29udmVydCBtYXJrZG93biB0byBIVE1MIGFuZCBzYW5pdGl6ZSBpdFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBQYXJzZSBtYXJrZG93biB0byBIVE1MXG4gICAgICAgICAgICAgICAgY29uc3QgcmF3SHRtbCA9IG1hcmtlZC5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAvLyBTYW5pdGl6ZSB0aGUgSFRNTCB0byBwcmV2ZW50IFhTUyBhdHRhY2tzXG4gICAgICAgICAgICAgICAgY29uc3Qgc2FuaXRpemVkSHRtbCA9IERPTVB1cmlmeS5zYW5pdGl6ZShyYXdIdG1sKTtcbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHNhbml0aXplZCBIVE1MXG4gICAgICAgICAgICAgICAgY29udGVudERpdi5pbm5lckhUTUwgPSBzYW5pdGl6ZWRIdG1sO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgaWYgbWFya2Rvd24gcGFyc2luZyBmYWlsc1xuICAgICAgICAgICAgICAgIGNvbnRlbnREaXYudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZW5kZXIgbWFya2Rvd246JywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVzc2FnZURpdi5hcHBlbmRDaGlsZChjb250ZW50RGl2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2VEaXYudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWVzc2FnZUNvbnRhaW5lci5hcHBlbmRDaGlsZChtZXNzYWdlRGl2KTtcbiAgICAgICAgdGhpcy5tZXNzYWdlQ29udGFpbmVyLnNjcm9sbFRvcCA9IHRoaXMubWVzc2FnZUNvbnRhaW5lci5zY3JvbGxIZWlnaHQ7XG4gICAgfVxuICAgIGFzeW5jIGxpc3RDdXJyZW50RGlyZWN0b3J5Q29udGVudHMoKSB7XG4gICAgICAgIGxldCBkaXJQYXRoID0gbnVsbDtcbiAgICAgICAgbGV0IHNvdXJjZSA9IG51bGw7XG4gICAgICAgIC8vIDEuIERldGVybWluZSB0aGUgZGlyZWN0b3J5IHBhdGhcbiAgICAgICAgY29uc3QgY3VycmVudFNoZWxsV2lkZ2V0ID0gYXBwLnNoZWxsLmN1cnJlbnRXaWRnZXQ7XG4gICAgICAgIGlmIChjdXJyZW50U2hlbGxXaWRnZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHdpZGdldENvbnRleHQgPSB0aGlzLmRvY01hbmFnZXIuY29udGV4dEZvcldpZGdldChjdXJyZW50U2hlbGxXaWRnZXQpO1xuICAgICAgICAgICAgaWYgKHdpZGdldENvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gd2lkZ2V0Q29udGV4dC5wYXRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RTbGFzaCA9IHBhdGgubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgICAgICAgICBkaXJQYXRoID0gbGFzdFNsYXNoID09PSAtMSA/ICcnIDogcGF0aC5zdWJzdHJpbmcoMCwgbGFzdFNsYXNoKTsgLy8gVXNlICcnIGZvciByb290XG4gICAgICAgICAgICAgICAgc291cmNlID0gJ3dpZGdldCBjb250ZXh0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBGYWxsYmFjayB0byBub3RlYm9vayB0cmFja2VyIGlmIG5vIGNvbnRleHQgZnJvbSB3aWRnZXRcbiAgICAgICAgaWYgKGRpclBhdGggPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROb3RlYm9va1BhbmVsID0gbm90ZWJvb2tUcmFja2VyID09PSBudWxsIHx8IG5vdGVib29rVHJhY2tlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm90ZWJvb2tUcmFja2VyLmN1cnJlbnRXaWRnZXQ7XG4gICAgICAgICAgICBpZiAoY3VycmVudE5vdGVib29rUGFuZWwgaW5zdGFuY2VvZiBOb3RlYm9va1BhbmVsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmJQYXRoID0gY3VycmVudE5vdGVib29rUGFuZWwuY29udGV4dC5wYXRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RTbGFzaCA9IG5iUGF0aC5sYXN0SW5kZXhPZignLycpO1xuICAgICAgICAgICAgICAgIGRpclBhdGggPSBsYXN0U2xhc2ggPT09IC0xID8gJycgOiBuYlBhdGguc3Vic3RyaW5nKDAsIGxhc3RTbGFzaCk7XG4gICAgICAgICAgICAgICAgc291cmNlID0gJ2FjdGl2ZSBub3RlYm9vayc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gMi4gTGlzdCBjb250ZW50cyBpZiBwYXRoIHdhcyBmb3VuZFxuICAgICAgICBpZiAoZGlyUGF0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYExpc3RpbmcgY29udGVudHMgZm9yIGRpcmVjdG9yeTogXCIke2RpclBhdGggfHwgJy8nfVwiIChmcm9tICR7c291cmNlfSlgKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudHMgPSBhd2FpdCB0aGlzLmRvY01hbmFnZXIuc2VydmljZXMuY29udGVudHMuZ2V0KGRpclBhdGgpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEaXJlY3RvcnkgQ29udGVudHM6Jyk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRzLmNvbnRlbnQgJiYgY29udGVudHMuY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRzLmNvbnRlbnQuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYC0gJHtpdGVtLm5hbWV9ICgke2l0ZW0udHlwZX0pYCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyhEaXJlY3RvcnkgaXMgZW1wdHkpJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgbGlzdGluZyBkaXJlY3RvcnkgY29udGVudHMgZm9yIFwiJHtkaXJQYXRofVwiOmAsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb3VsZCBub3QgZGV0ZXJtaW5lIGN1cnJlbnQgZGlyZWN0b3J5IGNvbnRleHQgdG8gbGlzdC4nKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIC0tLSBOZWVkIGFwcCBhbmQgbm90ZWJvb2tUcmFja2VyIGFjY2Vzc2libGUgZ2xvYmFsbHkgb3IgcGFzc2VkIGRpZmZlcmVudGx5IC0tLVxuLy8gVGhpcyBpcyBhIHNpbXBsaWZpY2F0aW9uIGZvciBub3cuIFByb3BlciBhcmNoaXRlY3R1cmUgbWlnaHQgaW52b2x2ZSBzaWduYWxzL3NlcnZpY2VzLlxubGV0IGFwcDtcbmxldCBub3RlYm9va1RyYWNrZXI7XG4vKipcbiAqIEluaXRpYWxpemF0aW9uIGRhdGEgZm9yIHRoZSBqdXB5dGVyLXNpbXBsZS1leHRlbnNpb24gZXh0ZW5zaW9uLlxuICovXG5jb25zdCBwbHVnaW4gPSB7XG4gICAgaWQ6ICdqdXB5dGVyLXNpbXBsZS1leHRlbnNpb246cGx1Z2luJyxcbiAgICBhdXRvU3RhcnQ6IHRydWUsXG4gICAgcmVxdWlyZXM6IFtJTGF1bmNoZXIsIElDb21tYW5kUGFsZXR0ZSwgSU5vdGVib29rVHJhY2tlciwgSURvY3VtZW50TWFuYWdlcl0sXG4gICAgYWN0aXZhdGU6IChfYXBwLCAvLyBSZW5hbWUgdG8gYXZvaWQgc2hhZG93aW5nIGdsb2JhbCAnYXBwJ1xuICAgIGxhdW5jaGVyLCBwYWxldHRlLCBfbm90ZWJvb2tUcmFja2VyLCAvLyBSZW5hbWUgdG8gYXZvaWQgc2hhZG93aW5nIGdsb2JhbFxuICAgIGRvY01hbmFnZXIgLy8gSW5qZWN0IElEb2N1bWVudE1hbmFnZXJcbiAgICApID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0p1cHl0ZXJMYWIgZXh0ZW5zaW9uIGp1cHl0ZXItc2ltcGxlLWV4dGVuc2lvbiBpcyBhY3RpdmF0ZWQhJyk7XG4gICAgICAgIC8vIEFzc2lnbiB0byBtb2R1bGUtbGV2ZWwgdmFyaWFibGVzIChzaW1wbGlmaWNhdGlvbilcbiAgICAgICAgYXBwID0gX2FwcDtcbiAgICAgICAgbm90ZWJvb2tUcmFja2VyID0gX25vdGVib29rVHJhY2tlcjtcbiAgICAgICAgLy8gUGFzcyBkb2NNYW5hZ2VyIHRvIHRoZSB3aWRnZXQgY29uc3RydWN0b3JcbiAgICAgICAgY29uc3Qgc2lkZWJhcldpZGdldCA9IG5ldyBTaW1wbGVTaWRlYmFyV2lkZ2V0KGRvY01hbmFnZXIpO1xuICAgICAgICAvLyBBZGQgdGhlIHNpZGViYXIgd2lkZ2V0IHRvIHRoZSBsZWZ0IGFyZWEgb24gc3RhcnR1cFxuICAgICAgICBhcHAuc2hlbGwuYWRkKHNpZGViYXJXaWRnZXQsICdsZWZ0JywgeyByYW5rOiA5OTk5IH0pO1xuICAgICAgICAvLyBBZGQgYSBjb21tYW5kIHRvIHRvZ2dsZSB0aGUgc2lkZWJhclxuICAgICAgICBhcHAuY29tbWFuZHMuYWRkQ29tbWFuZCgnc2ltcGxlLWV4dGVuc2lvbjp0b2dnbGUtc2lkZWJhcicsIHtcbiAgICAgICAgICAgIGxhYmVsOiAnVG9nZ2xlIFNpbXBsZSBTaWRlYmFyJyxcbiAgICAgICAgICAgIGljb246IGV4dGVuc2lvbkljb24sXG4gICAgICAgICAgICBleGVjdXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNpZGViYXJXaWRnZXQuaXNBdHRhY2hlZCkge1xuICAgICAgICAgICAgICAgICAgICBzaWRlYmFyV2lkZ2V0LnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcHAuc2hlbGwuYWRkKHNpZGViYXJXaWRnZXQsICdsZWZ0JywgeyByYW5rOiA5OTk5IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEFkZCB0aGUgY29tbWFuZCB0byB0aGUgY29tbWFuZCBwYWxldHRlXG4gICAgICAgIHBhbGV0dGUuYWRkSXRlbSh7XG4gICAgICAgICAgICBjb21tYW5kOiAnc2ltcGxlLWV4dGVuc2lvbjp0b2dnbGUtc2lkZWJhcicsXG4gICAgICAgICAgICBjYXRlZ29yeTogJ0V4dGVuc2lvbidcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEFkZCBhIGxhdW5jaGVyIGl0ZW1cbiAgICAgICAgbGF1bmNoZXIuYWRkKHtcbiAgICAgICAgICAgIGNvbW1hbmQ6ICdzaW1wbGUtZXh0ZW5zaW9uOnRvZ2dsZS1zaWRlYmFyJyxcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnT3RoZXInLFxuICAgICAgICAgICAgcmFuazogOTk5OVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gLS0tIFZhcmlhYmxlIHRvIGhvbGQgdGhlIGRpc3Bvc2FibGUgbGlzdGVuZXIgZm9yIGN1cnNvciBhY3Rpdml0eSAtLS1cbiAgICAgICAgLy8gbGV0IGN1cnNvckxpc3RlbmVyOiBJRGlzcG9zYWJsZSB8IG51bGwgPSBudWxsOyAvLyBSZW1vdmUgZm9yIG5vd1xuICAgICAgICAvLyAtLS0gVmFyaWFibGUgdG8gaG9sZCB0aGUgZGlzcG9zYWJsZSBsaXN0ZW5lciBmb3IgbW9kZWwgY2hhbmdlcyAtLS1cbiAgICAgICAgLy8gbGV0IG1vZGVsQ2hhbmdlZExpc3RlbmVyOiBJRGlzcG9zYWJsZSB8IG51bGwgPSBudWxsOyAvLyBSZW1vdmUgZm9yIG5vd1xuICAgICAgICAvLyAtLS0gRnVuY3Rpb24gdG8gbG9nIGN1cnNvciBjb250ZXh0IC0tLVxuICAgICAgICBjb25zdCBsb2dDdXJzb3JDb250ZXh0ID0gKGVkaXRvcikgPT4ge1xuICAgICAgICAgICAgLy8gS2VlcCB0aGUgJ2FueScgY2FzdCBmb3Igbm93IHVudGlsIHR5cGVzIGFyZSBjZXJ0YWluXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZWRpdG9yLmdldE9mZnNldEF0KHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmdWxsVGV4dCA9IGVkaXRvci5tb2RlbC52YWx1ZS5nZXQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0UmFkaXVzID0gMTAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gTWF0aC5tYXgoMCwgb2Zmc2V0IC0gY29udGV4dFJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5kID0gTWF0aC5taW4oZnVsbFRleHQubGVuZ3RoLCBvZmZzZXQgKyBjb250ZXh0UmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0QmVmb3JlID0gZnVsbFRleHQuc3Vic3RyaW5nKHN0YXJ0LCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHRBZnRlciA9IGZ1bGxUZXh0LnN1YnN0cmluZyhvZmZzZXQsIGVuZCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLSBDdXJzb3IgQ29udGV4dCAtLS0nKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUG9zaXRpb246JywgcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdPZmZzZXQ6Jywgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQmVmb3JlOicsIGNvbnRleHRCZWZvcmUpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBZnRlcjonLCBjb250ZXh0QWZ0ZXIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLS0tLScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIGxvZ0N1cnNvckNvbnRleHQ6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVkaXRvciBvYmplY3QgZHVyaW5nIGVycm9yOlwiLCBlZGl0b3IpOyAvLyBMb2cgZWRpdG9yIG9uIGVycm9yXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIC0tLSBNaW5pbWFsIGxpc3RlbmVyIGZvciBhY3RpdmUgY2VsbCBjaGFuZ2VzIChmb3IgbG9nZ2luZykgLS0tXG4gICAgICAgIG5vdGVib29rVHJhY2tlci5hY3RpdmVDZWxsQ2hhbmdlZC5jb25uZWN0KCh0cmFja2VyLCBjZWxsKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2VsbCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBBY3RpdmUgY2VsbCBjaGFuZ2VkIHRvOiBDZWxsIFR5cGUgPSAke2NlbGwubW9kZWwudHlwZX0sIEVkaXRvciA9ICR7Y2VsbC5lZGl0b3IgPyAnRXhpc3RzJyA6ICdOb25lJ31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWN0aXZlIGNlbGwgY2hhbmdlZCB0bzogTm9uZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdlIG5vIGxvbmdlciB0cnkgdG8gYXR0YWNoIGxpc3RlbmVycyBoZXJlXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBXYWl0IGZvciB0aGUgYXBwbGljYXRpb24gdG8gYmUgc3RhcnRlZCBiZWZvcmUgY29ubmVjdGluZyBzZWxlY3Rpb25DaGFuZ2VkXG4gICAgICAgIGFwcC5zdGFydGVkLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBcHAgc3RhcnRlZCwgY29ubmVjdGluZyBub3RlYm9va1RyYWNrZXIuY3VycmVudENoYW5nZWQgbGlzdGVuZXIuXCIpO1xuICAgICAgICAgICAgLy8gLS0tIExpc3RlbmVyIGZvciBjdXJyZW50IG5vdGVib29rIGNoYW5nZXMgKGZvciBpbnNwZWN0aW9uKSAtLS1cbiAgICAgICAgICAgIG5vdGVib29rVHJhY2tlci5jdXJyZW50Q2hhbmdlZC5jb25uZWN0KCh0cmFja2VyLCBwYW5lbCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm90ZWJvb2sgY3VycmVudCB3aWRnZXQgY2hhbmdlZC5cIik7XG4gICAgICAgICAgICAgICAgLy8gLS0tIENsZWFuIHVwIHByZXZpb3VzIGxpc3RlbmVycyAocGxhY2Vob2xkZXIgaWYgd2UgYWRkIGJhY2sgbGlzdGVuZXJzKSAtLS1cbiAgICAgICAgICAgICAgICAvLyAtLS0gRW5kIENsZWFudXAgLS0tXG4gICAgICAgICAgICAgICAgaWYgKHBhbmVsICYmIHBhbmVsLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50bHkgYWN0aXZlIGNlbGwgZnJvbSB0aGUgY3VycmVudCBwYW5lbFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjZWxsID0gcGFuZWwuY29udGVudC5hY3RpdmVDZWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbCAmJiBjZWxsLmVkaXRvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWRpdG9yID0gY2VsbC5lZGl0b3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkN1cnJlbnQgbm90ZWJvb2sgY2hhbmdlZCwgYWN0aXZlIGNlbGwgaGFzIGVkaXRvci4gTG9nZ2luZyBlZGl0b3Igb2JqZWN0OlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVkaXRvcik7IC8vIExvZyB0aGUgZWRpdG9yIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLS0tIEF0dGVtcHQgZGlyZWN0IGluc3BlY3Rpb24vaW50ZXJhY3Rpb24gKEh5cG90aGV0aWNhbCkgLS0tXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElzIHRoZXJlIGFuIGlubmVyICdlZGl0b3InP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGl0b3IuZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRm91bmQgaW5uZXIgZWRpdG9yIHByb3BlcnR5OlwiLCBlZGl0b3IuZWRpdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IGF0dGFjaGluZyBkaXJlY3RseSBpZiBpdCBsb29rcyBsaWtlIENvZGVNaXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlZGl0b3IuZWRpdG9yLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIklubmVyIGVkaXRvciBoYXMgLm9uIG1ldGhvZCAobGlrZWx5IENvZGVNaXJyb3IpLiBUcnlpbmcgdG8gYXR0YWNoICdjdXJzb3JBY3Rpdml0eScuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogV2UgbWlnaHQgbmVlZCB0byBwcm9wZXJseSBtYW5hZ2UgdGhlIGRldGFjaG1lbnQgb2YgdGhpcyBsaXN0ZW5lciBsYXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmVkaXRvci5vbignY3Vyc29yQWN0aXZpdHknLCAoY21JbnN0YW5jZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVW5kZXJseWluZyBlZGl0b3IgY3Vyc29yQWN0aXZpdHkgdHJpZ2dlcmVkLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3Igbm93LCBqdXN0IGxvZyB0aGF0IGl0IHRyaWdnZXJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIklubmVyIGVkaXRvciBkb2VzIG5vdCBoYXZlIC5vbiBtZXRob2QuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGlubmVyICdlZGl0b3InIHByb3BlcnR5IGZvdW5kLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FuIHdlIGNhbGwgbG9nQ3Vyc29yQ29udGV4dCBpbW1lZGlhdGVseT8gRG9lcyBpdCB3b3JrIGhlcmU/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBdHRlbXB0aW5nIGltbWVkaWF0ZSBjb250ZXh0IGxvZyBpbiBjdXJyZW50Q2hhbmdlZDpcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nQ3Vyc29yQ29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZHVyaW5nIGVkaXRvciBpbnNwZWN0aW9uL2ludGVyYWN0aW9uOlwiLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0tLSBFbmQgSW5zcGVjdGlvbiAtLS1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjZWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkN1cnJlbnQgbm90ZWJvb2sgY2hhbmdlZCwgYWN0aXZlIGNlbGwgZm91bmQgYnV0IG5vIGVkaXRvci5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkN1cnJlbnQgbm90ZWJvb2sgY2hhbmdlZCwgYnV0IG5vIGFjdGl2ZSBjZWxsIGZvdW5kIGluIHRoZSBwYW5lbC5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ3VycmVudCBub3RlYm9vayBjaGFuZ2VkIHRvIG51bGwgb3IgcGFuZWwgaGFzIG5vIGNvbnRlbnQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gLS0tIEVuZCBsaXN0ZW5lciBzZXR1cCAtLS1cbiAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IHBsdWdpbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==