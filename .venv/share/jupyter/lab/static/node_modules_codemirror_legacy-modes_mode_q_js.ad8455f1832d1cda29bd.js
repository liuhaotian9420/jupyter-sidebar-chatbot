"use strict";
(self["webpackChunk_jupyterlab_application_top"] = self["webpackChunk_jupyterlab_application_top"] || []).push([["node_modules_codemirror_legacy-modes_mode_q_js"],{

/***/ "./node_modules/@codemirror/legacy-modes/mode/q.js":
/*!*********************************************************!*\
  !*** ./node_modules/@codemirror/legacy-modes/mode/q.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   q: () => (/* binding */ q)
/* harmony export */ });
var curPunc,
    keywords=buildRE(["abs","acos","aj","aj0","all","and","any","asc","asin","asof","atan","attr","avg","avgs","bin","by","ceiling","cols","cor","cos","count","cov","cross","csv","cut","delete","deltas","desc","dev","differ","distinct","div","do","each","ej","enlist","eval","except","exec","exit","exp","fby","fills","first","fkeys","flip","floor","from","get","getenv","group","gtime","hclose","hcount","hdel","hopen","hsym","iasc","idesc","if","ij","in","insert","inter","inv","key","keys","last","like","list","lj","load","log","lower","lsq","ltime","ltrim","mavg","max","maxs","mcount","md5","mdev","med","meta","min","mins","mmax","mmin","mmu","mod","msum","neg","next","not","null","or","over","parse","peach","pj","plist","prd","prds","prev","prior","rand","rank","ratios","raze","read0","read1","reciprocal","reverse","rload","rotate","rsave","rtrim","save","scan","select","set","setenv","show","signum","sin","sqrt","ss","ssr","string","sublist","sum","sums","sv","system","tables","tan","til","trim","txf","type","uj","ungroup","union","update","upper","upsert","value","var","view","views","vs","wavg","where","where","while","within","wj","wj1","wsum","xasc","xbar","xcol","xcols","xdesc","xexp","xgroup","xkey","xlog","xprev","xrank"]),
    E=/[|/&^!+:\\\-*%$=~#;@><,?_\'\"\[\(\]\)\s{}]/;
function buildRE(w){return new RegExp("^("+w.join("|")+")$");}
function tokenBase(stream,state){
  var sol=stream.sol(),c=stream.next();
  curPunc=null;
  if(sol)
    if(c=="/")
      return(state.tokenize=tokenLineComment)(stream,state);
  else if(c=="\\"){
    if(stream.eol()||/\s/.test(stream.peek()))
      return stream.skipToEnd(),/^\\\s*$/.test(stream.current())?(state.tokenize=tokenCommentToEOF)(stream):state.tokenize=tokenBase,"comment";
    else
      return state.tokenize=tokenBase,"builtin";
  }
  if(/\s/.test(c))
    return stream.peek()=="/"?(stream.skipToEnd(),"comment"):"null";
  if(c=='"')
    return(state.tokenize=tokenString)(stream,state);
  if(c=='`')
    return stream.eatWhile(/[A-Za-z\d_:\/.]/),"macroName";
  if(("."==c&&/\d/.test(stream.peek()))||/\d/.test(c)){
    var t=null;
    stream.backUp(1);
    if(stream.match(/^\d{4}\.\d{2}(m|\.\d{2}([DT](\d{2}(:\d{2}(:\d{2}(\.\d{1,9})?)?)?)?)?)/)
       || stream.match(/^\d+D(\d{2}(:\d{2}(:\d{2}(\.\d{1,9})?)?)?)/)
       || stream.match(/^\d{2}:\d{2}(:\d{2}(\.\d{1,9})?)?/)
       || stream.match(/^\d+[ptuv]{1}/))
      t="temporal";
    else if(stream.match(/^0[NwW]{1}/)
            || stream.match(/^0x[\da-fA-F]*/)
            || stream.match(/^[01]+[b]{1}/)
            || stream.match(/^\d+[chijn]{1}/)
            || stream.match(/-?\d*(\.\d*)?(e[+\-]?\d+)?(e|f)?/))
      t="number";
    return(t&&(!(c=stream.peek())||E.test(c)))?t:(stream.next(),"error");
  }
  if(/[A-Za-z]|\./.test(c))
    return stream.eatWhile(/[A-Za-z._\d]/),keywords.test(stream.current())?"keyword":"variable";
  if(/[|/&^!+:\\\-*%$=~#;@><\.,?_\']/.test(c))
    return null;
  if(/[{}\(\[\]\)]/.test(c))
    return null;
  return"error";
}
function tokenLineComment(stream,state){
  return stream.skipToEnd(),/\/\s*$/.test(stream.current())?(state.tokenize=tokenBlockComment)(stream,state):(state.tokenize=tokenBase),"comment";
}
function tokenBlockComment(stream,state){
  var f=stream.sol()&&stream.peek()=="\\";
  stream.skipToEnd();
  if(f&&/^\\\s*$/.test(stream.current()))
    state.tokenize=tokenBase;
  return"comment";
}
function tokenCommentToEOF(stream){return stream.skipToEnd(),"comment";}
function tokenString(stream,state){
  var escaped=false,next,end=false;
  while((next=stream.next())){
    if(next=="\""&&!escaped){end=true;break;}
    escaped=!escaped&&next=="\\";
  }
  if(end)state.tokenize=tokenBase;
  return"string";
}
function pushContext(state,type,col){state.context={prev:state.context,indent:state.indent,col:col,type:type};}
function popContext(state){state.indent=state.context.indent;state.context=state.context.prev;}
const q = {
  name: "q",
  startState:function(){
    return{tokenize:tokenBase,
           context:null,
           indent:0,
           col:0};
  },
  token:function(stream,state){
    if(stream.sol()){
      if(state.context&&state.context.align==null)
        state.context.align=false;
      state.indent=stream.indentation();
    }
    //if (stream.eatSpace()) return null;
    var style=state.tokenize(stream,state);
    if(style!="comment"&&state.context&&state.context.align==null&&state.context.type!="pattern"){
      state.context.align=true;
    }
    if(curPunc=="(")pushContext(state,")",stream.column());
    else if(curPunc=="[")pushContext(state,"]",stream.column());
    else if(curPunc=="{")pushContext(state,"}",stream.column());
    else if(/[\]\}\)]/.test(curPunc)){
      while(state.context&&state.context.type=="pattern")popContext(state);
      if(state.context&&curPunc==state.context.type)popContext(state);
    }
    else if(curPunc=="."&&state.context&&state.context.type=="pattern")popContext(state);
    else if(/atom|string|variable/.test(style)&&state.context){
      if(/[\}\]]/.test(state.context.type))
        pushContext(state,"pattern",stream.column());
      else if(state.context.type=="pattern"&&!state.context.align){
        state.context.align=true;
        state.context.col=stream.column();
      }
    }
    return style;
  },
  indent:function(state,textAfter,cx){
    var firstChar=textAfter&&textAfter.charAt(0);
    var context=state.context;
    if(/[\]\}]/.test(firstChar))
      while (context&&context.type=="pattern")context=context.prev;
    var closing=context&&firstChar==context.type;
    if(!context)
      return 0;
    else if(context.type=="pattern")
      return context.col;
    else if(context.align)
      return context.col+(closing?0:1);
    else
      return context.indent+(closing?0:cx.unit);
  }
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2NvZGVtaXJyb3JfbGVnYWN5LW1vZGVzX21vZGVfcV9qcy5hZDg0NTVmMTgzMmQxY2RhMjliZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBLDBCQUEwQixzQkFBc0I7QUFDaEQsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsTUFBTSxJQUFJO0FBQy9FLGlDQUFpQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsTUFBTSxJQUFJO0FBQzNELDRCQUE0QixFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxJQUFJO0FBQ3JELG1DQUFtQyxFQUFFO0FBQ3JDO0FBQ0Esa0NBQWtDLEVBQUU7QUFDcEM7QUFDQSx1Q0FBdUMsRUFBRTtBQUN6Qyx5Q0FBeUMsRUFBRTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFNBQVM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxlQUFlO0FBQ3BELDJCQUEyQixrQ0FBa0M7QUFDdEQ7QUFDUDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0Msa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BqdXB5dGVybGFiL2FwcGxpY2F0aW9uLXRvcC8uL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci9sZWdhY3ktbW9kZXMvbW9kZS9xLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBjdXJQdW5jLFxuICAgIGtleXdvcmRzPWJ1aWxkUkUoW1wiYWJzXCIsXCJhY29zXCIsXCJhalwiLFwiYWowXCIsXCJhbGxcIixcImFuZFwiLFwiYW55XCIsXCJhc2NcIixcImFzaW5cIixcImFzb2ZcIixcImF0YW5cIixcImF0dHJcIixcImF2Z1wiLFwiYXZnc1wiLFwiYmluXCIsXCJieVwiLFwiY2VpbGluZ1wiLFwiY29sc1wiLFwiY29yXCIsXCJjb3NcIixcImNvdW50XCIsXCJjb3ZcIixcImNyb3NzXCIsXCJjc3ZcIixcImN1dFwiLFwiZGVsZXRlXCIsXCJkZWx0YXNcIixcImRlc2NcIixcImRldlwiLFwiZGlmZmVyXCIsXCJkaXN0aW5jdFwiLFwiZGl2XCIsXCJkb1wiLFwiZWFjaFwiLFwiZWpcIixcImVubGlzdFwiLFwiZXZhbFwiLFwiZXhjZXB0XCIsXCJleGVjXCIsXCJleGl0XCIsXCJleHBcIixcImZieVwiLFwiZmlsbHNcIixcImZpcnN0XCIsXCJma2V5c1wiLFwiZmxpcFwiLFwiZmxvb3JcIixcImZyb21cIixcImdldFwiLFwiZ2V0ZW52XCIsXCJncm91cFwiLFwiZ3RpbWVcIixcImhjbG9zZVwiLFwiaGNvdW50XCIsXCJoZGVsXCIsXCJob3BlblwiLFwiaHN5bVwiLFwiaWFzY1wiLFwiaWRlc2NcIixcImlmXCIsXCJpalwiLFwiaW5cIixcImluc2VydFwiLFwiaW50ZXJcIixcImludlwiLFwia2V5XCIsXCJrZXlzXCIsXCJsYXN0XCIsXCJsaWtlXCIsXCJsaXN0XCIsXCJsalwiLFwibG9hZFwiLFwibG9nXCIsXCJsb3dlclwiLFwibHNxXCIsXCJsdGltZVwiLFwibHRyaW1cIixcIm1hdmdcIixcIm1heFwiLFwibWF4c1wiLFwibWNvdW50XCIsXCJtZDVcIixcIm1kZXZcIixcIm1lZFwiLFwibWV0YVwiLFwibWluXCIsXCJtaW5zXCIsXCJtbWF4XCIsXCJtbWluXCIsXCJtbXVcIixcIm1vZFwiLFwibXN1bVwiLFwibmVnXCIsXCJuZXh0XCIsXCJub3RcIixcIm51bGxcIixcIm9yXCIsXCJvdmVyXCIsXCJwYXJzZVwiLFwicGVhY2hcIixcInBqXCIsXCJwbGlzdFwiLFwicHJkXCIsXCJwcmRzXCIsXCJwcmV2XCIsXCJwcmlvclwiLFwicmFuZFwiLFwicmFua1wiLFwicmF0aW9zXCIsXCJyYXplXCIsXCJyZWFkMFwiLFwicmVhZDFcIixcInJlY2lwcm9jYWxcIixcInJldmVyc2VcIixcInJsb2FkXCIsXCJyb3RhdGVcIixcInJzYXZlXCIsXCJydHJpbVwiLFwic2F2ZVwiLFwic2NhblwiLFwic2VsZWN0XCIsXCJzZXRcIixcInNldGVudlwiLFwic2hvd1wiLFwic2lnbnVtXCIsXCJzaW5cIixcInNxcnRcIixcInNzXCIsXCJzc3JcIixcInN0cmluZ1wiLFwic3VibGlzdFwiLFwic3VtXCIsXCJzdW1zXCIsXCJzdlwiLFwic3lzdGVtXCIsXCJ0YWJsZXNcIixcInRhblwiLFwidGlsXCIsXCJ0cmltXCIsXCJ0eGZcIixcInR5cGVcIixcInVqXCIsXCJ1bmdyb3VwXCIsXCJ1bmlvblwiLFwidXBkYXRlXCIsXCJ1cHBlclwiLFwidXBzZXJ0XCIsXCJ2YWx1ZVwiLFwidmFyXCIsXCJ2aWV3XCIsXCJ2aWV3c1wiLFwidnNcIixcIndhdmdcIixcIndoZXJlXCIsXCJ3aGVyZVwiLFwid2hpbGVcIixcIndpdGhpblwiLFwid2pcIixcIndqMVwiLFwid3N1bVwiLFwieGFzY1wiLFwieGJhclwiLFwieGNvbFwiLFwieGNvbHNcIixcInhkZXNjXCIsXCJ4ZXhwXCIsXCJ4Z3JvdXBcIixcInhrZXlcIixcInhsb2dcIixcInhwcmV2XCIsXCJ4cmFua1wiXSksXG4gICAgRT0vW3wvJl4hKzpcXFxcXFwtKiUkPX4jO0A+PCw/X1xcJ1xcXCJcXFtcXChcXF1cXClcXHN7fV0vO1xuZnVuY3Rpb24gYnVpbGRSRSh3KXtyZXR1cm4gbmV3IFJlZ0V4cChcIl4oXCIrdy5qb2luKFwifFwiKStcIikkXCIpO31cbmZ1bmN0aW9uIHRva2VuQmFzZShzdHJlYW0sc3RhdGUpe1xuICB2YXIgc29sPXN0cmVhbS5zb2woKSxjPXN0cmVhbS5uZXh0KCk7XG4gIGN1clB1bmM9bnVsbDtcbiAgaWYoc29sKVxuICAgIGlmKGM9PVwiL1wiKVxuICAgICAgcmV0dXJuKHN0YXRlLnRva2VuaXplPXRva2VuTGluZUNvbW1lbnQpKHN0cmVhbSxzdGF0ZSk7XG4gIGVsc2UgaWYoYz09XCJcXFxcXCIpe1xuICAgIGlmKHN0cmVhbS5lb2woKXx8L1xccy8udGVzdChzdHJlYW0ucGVlaygpKSlcbiAgICAgIHJldHVybiBzdHJlYW0uc2tpcFRvRW5kKCksL15cXFxcXFxzKiQvLnRlc3Qoc3RyZWFtLmN1cnJlbnQoKSk/KHN0YXRlLnRva2VuaXplPXRva2VuQ29tbWVudFRvRU9GKShzdHJlYW0pOnN0YXRlLnRva2VuaXplPXRva2VuQmFzZSxcImNvbW1lbnRcIjtcbiAgICBlbHNlXG4gICAgICByZXR1cm4gc3RhdGUudG9rZW5pemU9dG9rZW5CYXNlLFwiYnVpbHRpblwiO1xuICB9XG4gIGlmKC9cXHMvLnRlc3QoYykpXG4gICAgcmV0dXJuIHN0cmVhbS5wZWVrKCk9PVwiL1wiPyhzdHJlYW0uc2tpcFRvRW5kKCksXCJjb21tZW50XCIpOlwibnVsbFwiO1xuICBpZihjPT0nXCInKVxuICAgIHJldHVybihzdGF0ZS50b2tlbml6ZT10b2tlblN0cmluZykoc3RyZWFtLHN0YXRlKTtcbiAgaWYoYz09J2AnKVxuICAgIHJldHVybiBzdHJlYW0uZWF0V2hpbGUoL1tBLVphLXpcXGRfOlxcLy5dLyksXCJtYWNyb05hbWVcIjtcbiAgaWYoKFwiLlwiPT1jJiYvXFxkLy50ZXN0KHN0cmVhbS5wZWVrKCkpKXx8L1xcZC8udGVzdChjKSl7XG4gICAgdmFyIHQ9bnVsbDtcbiAgICBzdHJlYW0uYmFja1VwKDEpO1xuICAgIGlmKHN0cmVhbS5tYXRjaCgvXlxcZHs0fVxcLlxcZHsyfShtfFxcLlxcZHsyfShbRFRdKFxcZHsyfSg6XFxkezJ9KDpcXGR7Mn0oXFwuXFxkezEsOX0pPyk/KT8pPyk/KS8pXG4gICAgICAgfHwgc3RyZWFtLm1hdGNoKC9eXFxkK0QoXFxkezJ9KDpcXGR7Mn0oOlxcZHsyfShcXC5cXGR7MSw5fSk/KT8pPykvKVxuICAgICAgIHx8IHN0cmVhbS5tYXRjaCgvXlxcZHsyfTpcXGR7Mn0oOlxcZHsyfShcXC5cXGR7MSw5fSk/KT8vKVxuICAgICAgIHx8IHN0cmVhbS5tYXRjaCgvXlxcZCtbcHR1dl17MX0vKSlcbiAgICAgIHQ9XCJ0ZW1wb3JhbFwiO1xuICAgIGVsc2UgaWYoc3RyZWFtLm1hdGNoKC9eMFtOd1ddezF9LylcbiAgICAgICAgICAgIHx8IHN0cmVhbS5tYXRjaCgvXjB4W1xcZGEtZkEtRl0qLylcbiAgICAgICAgICAgIHx8IHN0cmVhbS5tYXRjaCgvXlswMV0rW2JdezF9LylcbiAgICAgICAgICAgIHx8IHN0cmVhbS5tYXRjaCgvXlxcZCtbY2hpam5dezF9LylcbiAgICAgICAgICAgIHx8IHN0cmVhbS5tYXRjaCgvLT9cXGQqKFxcLlxcZCopPyhlWytcXC1dP1xcZCspPyhlfGYpPy8pKVxuICAgICAgdD1cIm51bWJlclwiO1xuICAgIHJldHVybih0JiYoIShjPXN0cmVhbS5wZWVrKCkpfHxFLnRlc3QoYykpKT90OihzdHJlYW0ubmV4dCgpLFwiZXJyb3JcIik7XG4gIH1cbiAgaWYoL1tBLVphLXpdfFxcLi8udGVzdChjKSlcbiAgICByZXR1cm4gc3RyZWFtLmVhdFdoaWxlKC9bQS1aYS16Ll9cXGRdLyksa2V5d29yZHMudGVzdChzdHJlYW0uY3VycmVudCgpKT9cImtleXdvcmRcIjpcInZhcmlhYmxlXCI7XG4gIGlmKC9bfC8mXiErOlxcXFxcXC0qJSQ9fiM7QD48XFwuLD9fXFwnXS8udGVzdChjKSlcbiAgICByZXR1cm4gbnVsbDtcbiAgaWYoL1t7fVxcKFxcW1xcXVxcKV0vLnRlc3QoYykpXG4gICAgcmV0dXJuIG51bGw7XG4gIHJldHVyblwiZXJyb3JcIjtcbn1cbmZ1bmN0aW9uIHRva2VuTGluZUNvbW1lbnQoc3RyZWFtLHN0YXRlKXtcbiAgcmV0dXJuIHN0cmVhbS5za2lwVG9FbmQoKSwvXFwvXFxzKiQvLnRlc3Qoc3RyZWFtLmN1cnJlbnQoKSk/KHN0YXRlLnRva2VuaXplPXRva2VuQmxvY2tDb21tZW50KShzdHJlYW0sc3RhdGUpOihzdGF0ZS50b2tlbml6ZT10b2tlbkJhc2UpLFwiY29tbWVudFwiO1xufVxuZnVuY3Rpb24gdG9rZW5CbG9ja0NvbW1lbnQoc3RyZWFtLHN0YXRlKXtcbiAgdmFyIGY9c3RyZWFtLnNvbCgpJiZzdHJlYW0ucGVlaygpPT1cIlxcXFxcIjtcbiAgc3RyZWFtLnNraXBUb0VuZCgpO1xuICBpZihmJiYvXlxcXFxcXHMqJC8udGVzdChzdHJlYW0uY3VycmVudCgpKSlcbiAgICBzdGF0ZS50b2tlbml6ZT10b2tlbkJhc2U7XG4gIHJldHVyblwiY29tbWVudFwiO1xufVxuZnVuY3Rpb24gdG9rZW5Db21tZW50VG9FT0Yoc3RyZWFtKXtyZXR1cm4gc3RyZWFtLnNraXBUb0VuZCgpLFwiY29tbWVudFwiO31cbmZ1bmN0aW9uIHRva2VuU3RyaW5nKHN0cmVhbSxzdGF0ZSl7XG4gIHZhciBlc2NhcGVkPWZhbHNlLG5leHQsZW5kPWZhbHNlO1xuICB3aGlsZSgobmV4dD1zdHJlYW0ubmV4dCgpKSl7XG4gICAgaWYobmV4dD09XCJcXFwiXCImJiFlc2NhcGVkKXtlbmQ9dHJ1ZTticmVhazt9XG4gICAgZXNjYXBlZD0hZXNjYXBlZCYmbmV4dD09XCJcXFxcXCI7XG4gIH1cbiAgaWYoZW5kKXN0YXRlLnRva2VuaXplPXRva2VuQmFzZTtcbiAgcmV0dXJuXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIHB1c2hDb250ZXh0KHN0YXRlLHR5cGUsY29sKXtzdGF0ZS5jb250ZXh0PXtwcmV2OnN0YXRlLmNvbnRleHQsaW5kZW50OnN0YXRlLmluZGVudCxjb2w6Y29sLHR5cGU6dHlwZX07fVxuZnVuY3Rpb24gcG9wQ29udGV4dChzdGF0ZSl7c3RhdGUuaW5kZW50PXN0YXRlLmNvbnRleHQuaW5kZW50O3N0YXRlLmNvbnRleHQ9c3RhdGUuY29udGV4dC5wcmV2O31cbmV4cG9ydCBjb25zdCBxID0ge1xuICBuYW1lOiBcInFcIixcbiAgc3RhcnRTdGF0ZTpmdW5jdGlvbigpe1xuICAgIHJldHVybnt0b2tlbml6ZTp0b2tlbkJhc2UsXG4gICAgICAgICAgIGNvbnRleHQ6bnVsbCxcbiAgICAgICAgICAgaW5kZW50OjAsXG4gICAgICAgICAgIGNvbDowfTtcbiAgfSxcbiAgdG9rZW46ZnVuY3Rpb24oc3RyZWFtLHN0YXRlKXtcbiAgICBpZihzdHJlYW0uc29sKCkpe1xuICAgICAgaWYoc3RhdGUuY29udGV4dCYmc3RhdGUuY29udGV4dC5hbGlnbj09bnVsbClcbiAgICAgICAgc3RhdGUuY29udGV4dC5hbGlnbj1mYWxzZTtcbiAgICAgIHN0YXRlLmluZGVudD1zdHJlYW0uaW5kZW50YXRpb24oKTtcbiAgICB9XG4gICAgLy9pZiAoc3RyZWFtLmVhdFNwYWNlKCkpIHJldHVybiBudWxsO1xuICAgIHZhciBzdHlsZT1zdGF0ZS50b2tlbml6ZShzdHJlYW0sc3RhdGUpO1xuICAgIGlmKHN0eWxlIT1cImNvbW1lbnRcIiYmc3RhdGUuY29udGV4dCYmc3RhdGUuY29udGV4dC5hbGlnbj09bnVsbCYmc3RhdGUuY29udGV4dC50eXBlIT1cInBhdHRlcm5cIil7XG4gICAgICBzdGF0ZS5jb250ZXh0LmFsaWduPXRydWU7XG4gICAgfVxuICAgIGlmKGN1clB1bmM9PVwiKFwiKXB1c2hDb250ZXh0KHN0YXRlLFwiKVwiLHN0cmVhbS5jb2x1bW4oKSk7XG4gICAgZWxzZSBpZihjdXJQdW5jPT1cIltcIilwdXNoQ29udGV4dChzdGF0ZSxcIl1cIixzdHJlYW0uY29sdW1uKCkpO1xuICAgIGVsc2UgaWYoY3VyUHVuYz09XCJ7XCIpcHVzaENvbnRleHQoc3RhdGUsXCJ9XCIsc3RyZWFtLmNvbHVtbigpKTtcbiAgICBlbHNlIGlmKC9bXFxdXFx9XFwpXS8udGVzdChjdXJQdW5jKSl7XG4gICAgICB3aGlsZShzdGF0ZS5jb250ZXh0JiZzdGF0ZS5jb250ZXh0LnR5cGU9PVwicGF0dGVyblwiKXBvcENvbnRleHQoc3RhdGUpO1xuICAgICAgaWYoc3RhdGUuY29udGV4dCYmY3VyUHVuYz09c3RhdGUuY29udGV4dC50eXBlKXBvcENvbnRleHQoc3RhdGUpO1xuICAgIH1cbiAgICBlbHNlIGlmKGN1clB1bmM9PVwiLlwiJiZzdGF0ZS5jb250ZXh0JiZzdGF0ZS5jb250ZXh0LnR5cGU9PVwicGF0dGVyblwiKXBvcENvbnRleHQoc3RhdGUpO1xuICAgIGVsc2UgaWYoL2F0b218c3RyaW5nfHZhcmlhYmxlLy50ZXN0KHN0eWxlKSYmc3RhdGUuY29udGV4dCl7XG4gICAgICBpZigvW1xcfVxcXV0vLnRlc3Qoc3RhdGUuY29udGV4dC50eXBlKSlcbiAgICAgICAgcHVzaENvbnRleHQoc3RhdGUsXCJwYXR0ZXJuXCIsc3RyZWFtLmNvbHVtbigpKTtcbiAgICAgIGVsc2UgaWYoc3RhdGUuY29udGV4dC50eXBlPT1cInBhdHRlcm5cIiYmIXN0YXRlLmNvbnRleHQuYWxpZ24pe1xuICAgICAgICBzdGF0ZS5jb250ZXh0LmFsaWduPXRydWU7XG4gICAgICAgIHN0YXRlLmNvbnRleHQuY29sPXN0cmVhbS5jb2x1bW4oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlO1xuICB9LFxuICBpbmRlbnQ6ZnVuY3Rpb24oc3RhdGUsdGV4dEFmdGVyLGN4KXtcbiAgICB2YXIgZmlyc3RDaGFyPXRleHRBZnRlciYmdGV4dEFmdGVyLmNoYXJBdCgwKTtcbiAgICB2YXIgY29udGV4dD1zdGF0ZS5jb250ZXh0O1xuICAgIGlmKC9bXFxdXFx9XS8udGVzdChmaXJzdENoYXIpKVxuICAgICAgd2hpbGUgKGNvbnRleHQmJmNvbnRleHQudHlwZT09XCJwYXR0ZXJuXCIpY29udGV4dD1jb250ZXh0LnByZXY7XG4gICAgdmFyIGNsb3Npbmc9Y29udGV4dCYmZmlyc3RDaGFyPT1jb250ZXh0LnR5cGU7XG4gICAgaWYoIWNvbnRleHQpXG4gICAgICByZXR1cm4gMDtcbiAgICBlbHNlIGlmKGNvbnRleHQudHlwZT09XCJwYXR0ZXJuXCIpXG4gICAgICByZXR1cm4gY29udGV4dC5jb2w7XG4gICAgZWxzZSBpZihjb250ZXh0LmFsaWduKVxuICAgICAgcmV0dXJuIGNvbnRleHQuY29sKyhjbG9zaW5nPzA6MSk7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIGNvbnRleHQuaW5kZW50KyhjbG9zaW5nPzA6Y3gudW5pdCk7XG4gIH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=